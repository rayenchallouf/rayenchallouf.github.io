---
title: ASK 8
categories: [Matlab]
tags: [code, easy]
---

## MATLAB Code

Below is the MATLAB code for the simulation:

```matlab
clc
clear
N = 999999;
x = randn(1, N);
RSB= 0:2:20;
for k = 1:length(RSB)
     for i = 1:length(x)
        if x(i) > 0
            x(i) = 1;
        else
            x(i) = 0;
        end
    end
    x;
    j = 0;
    for i = 1:3:(length(x) - 2)
        j = j + 1;
        if x(i) == 0
            if x(i + 1) == 0
                if x(i+2)==0
                  xmod(j) = -7;
                else
                  xmod(j) = -5;
                end
            else
                if x(i+2)==0
                  xmod(j) = -3;
                else
                    xmod(j) = -1;
                end

            end
        else
             if x(i + 1) == 0
                if x(i+2)==0
                  xmod(j) = 1;
                else
                  xmod(j) = 3;
                end
             else
                if x(i+2)==0
                  xmod(j) = 5;
                else
                    xmod(j) = 7;
                end

             end
        end


    end
    figure(1)
    plot(real(xmod), imag(xmod), '+')


    sigma = (1 / sqrt(2)) * (10^(-RSB(k) / 40));
    bruit = sigma * randn(1, length(xmod));
    y = xmod + bruit;
    y;
    j = 1;
    for i = 1:length(xmod)

        if y(i) < -6
            xdemod(j) = 0;
            xdemod(j + 1) = 0;
            xdemod(j + 2) = 0;
        end
        if -6 < y(i) && y(i) < -4
            xdemod(j) = 0;
            xdemod(j + 1) = 0;
            xdemod(j + 2) = 1;
        end
        if -4 < y(i) && y(i) < -2
            xdemod(j) = 0;
            xdemod(j + 1) = 1;
            xdemod(j + 2) = 0;
        end
        if -2 < y(i) && y(i) < 0
            xdemod(j) = 0;
            xdemod(j + 1) = 1;
            xdemod(j + 2) = 1;
        end
        if 0 < y(i) && y(i) < 2
            xdemod(j) = 1;
            xdemod(j + 1) = 0;
            xdemod(j + 2) = 0;
        end
        if 2 < y(i) && y(i) < 4
            xdemod(j) = 1;
            xdemod(j + 1) = 0;
            xdemod(j + 2) = 1;
        end
        if 4 < y(i) && y(i) < 6
            xdemod(j) = 1;
            xdemod(j + 1) = 1;
            xdemod(j + 2) = 0;
        end
        if y(i)>6
            xdemod(j) = 1;
            xdemod(j + 1) = 1;
            xdemod(j + 2) = 1;
        end
        j = j + 3;

    end

    nb = 0;
    for i = 1:length(x)
        if x(i) ~= xdemod(i)
            nb = nb + 1;
        end
    end

    TEB(k)= nb / N;


end
xmod
figure(2)
plot(real(y), imag(y), '+')
figure(3)
plot(RSB,TEB)
figure(4)
semilogy(RSB,TEB)


```
