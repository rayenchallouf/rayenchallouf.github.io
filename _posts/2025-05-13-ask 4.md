---
title: ask 4
categories: [Matlab]
tags: [code, easy]
---

## MATLAB Code

Below is the MATLAB code for the simulation:

```matlab
clc
clear
N = 1000000;
x = randn(1, N);
RSB = 0:2:20;

for k = 1:length(RSB)
    for i = 1:length(x)
        if x(i) > 0
            x(i) = 1;
        else
            x(i) = 0;
        end
    end
    x;

    j = 0;
    for i = 1:2:(length(x) - 1)
        j = j + 1;
        if x(i) == 0
            if x(i + 1) == 0
                xmod(j) = -3;
            else
                xmod(j) = -1;
            end
        else
            if x(i + 1) == 0
                xmod(j) = 1;
            else
                xmod(j) = 3;
            end
        end
    end
    xmod;
    plot(real(xmod), imag(xmod), 'o')

    sigma = (1 / sqrt(2)) * (10^(-RSB(k) / 40));
    bruit = sigma * randn(1, length(xmod));
    y = xmod + bruit;
    y;
    plot(real(y), imag(y), '+')

    j = 1;
    for i = 1:length(xmod)

        if y(i) < -2
            xdemod(j) = 0;
            xdemod(j + 1) = 0;
        end
        if -2 < y(i) && y(i) < 0
            xdemod(j) = 0;
            xdemod(j + 1) = 1;
        end
        if 0 < y(i) && y(i) < 2
            xdemod(j) = 1;
            xdemod(j + 1) = 0;
        end
        if 2 < y(i)
            xdemod(j) = 1;
            xdemod(j + 1) = 1;
        end
        j = j + 2;

    end
    xdemod;

    nb = 0;
    for i = 1:length(x)
        if x(i) ~= xdemod(i)
            nb = nb + 1;
        end
    end

    TEB(k) = nb / N;

end
figure(2)
plot(RSB,TEB)
figure(3)
semilogy(RSB,TEB)
ylim([0,(10^0)])
```
